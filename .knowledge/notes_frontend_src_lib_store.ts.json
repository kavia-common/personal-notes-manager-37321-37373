{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Qwik store module for managing notes, including state, actions, context, and APIs for CRUD operations on notes. It provides hooks for components to access and manipulate note data with optimistic updates.", "external_files": ["./types"], "external_methods": ["createNote", "nowIso"], "published": ["useNotesProvider", "useNotes", "getNotesActions", "NotesContext"], "classes": [], "methods": [{"name": "loadNotes", "description": "Loads notes from backend API or demo data if backend is not configured."}, {"name": "addNote", "description": "Adds a new note with optimistic UI update, creating the note on backend if available."}, {"name": "updateNote", "description": "Updates an existing note with optimistic UI update, saving changes to backend if available."}, {"name": "deleteNote", "description": "Deletes a note with optimistic UI update, removing from backend if available."}, {"name": "select", "description": "Sets the selected note ID in the state."}, {"name": "async function apiDelete(path: string): Promise<void> { apiDelete", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function apiGet<T>(path: string): Promise<T> { apiGet", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function apiPost<T>(path: string, body: unknown): Promise<T> { apiPost", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function apiPut<T>(path: string, body: unknown): Promise<T> { apiPut", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export function getNotesActions(): NotesActions { getNotesActions", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export function useNotes(): NotesContextValue { useNotes", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "apiGet", "apiPost", "apiPut", "apiDelete", "useStore", "useContextProvider", "useVisibleTask$", "createContextId", "noSerialize"], "search-terms": ["NotesStore", "store", "Qwik context", "NotesActions", "Note CRUD", "NotesContext"], "state": 2, "file_id": 27, "knowledge_revision": 98, "git_revision": "", "revision_history": [{"86": ""}, {"92": ""}, {"93": ""}, {"98": ""}], "ctags": [{"_type": "tag", "name": "NotesActions", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export type NotesActions = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "NotesContext", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export const NotesContext = createContextId<NotesContextValue>(\"notes.context\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NotesContextValue", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export type NotesContextValue = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "NotesState", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export type NotesState = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "__notesActionsRef", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^let __notesActionsRef: NotesActions | null = null;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^const apiBase = import.meta.env.VITE_API_BASE || import.meta.env.VITE_BACKEND_URL || \"\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "apiDelete", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiDelete(path: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiGet<T>(path: string): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiPost<T>(path: string, body: unknown): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPut", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiPut<T>(path: string, body: unknown): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "backup", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const backup = { ...prev };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "backupList", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const backupList = state.notes.slice();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^        const err = new Error(\"Note not found\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "getNotesActions", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export function getNotesActions(): NotesActions {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const prev = state.notes.find((n) => n.id === input.id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, { headers: { \"Accept\": \"application\\/json\" } });$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, { method: \"DELETE\" });$/", "language": "TypeScript", "kind": "constant", "scope": "apiDelete", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "apiPost", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "apiPut", "scopeKind": "function"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^        let saved: Note;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export function useNotes(): NotesContextValue {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useNotesProvider", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export const useNotesProvider = () => {$/", "language": "TypeScript", "kind": "constant"}], "hash": "864889654a0fa007b5ec737132332649", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/store.ts", "fields": [{"name": "let __notesActionsRef: NotesActions | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let saved: Note;", "scope": "", "scopeKind": "", "description": "unavailable"}]}