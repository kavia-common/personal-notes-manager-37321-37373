{"is_source_file": true, "format": "TypeScript", "description": "This file defines the store, context, and related functions for managing notes in a Qwik-based frontend application. It includes state types, actions for CRUD operations with optimistic updates, context creation, and environment-specific API calls.", "external_files": ["./types"], "external_methods": ["createNote", "nowIso"], "published": ["useNotesProvider", "useNotes", "getNotesActions", "NotesContext", "NotesState", "NotesActions", "NotesContextValue"], "classes": [], "methods": [{"name": "useNotesProvider", "description": "Provides the notes store context and loads notes on first visibility."}, {"name": "export function useNotes(): NotesContextValue { useNotes", "description": "Hook to access notes state and actions from the context.", "scope": "", "scopeKind": ""}, {"name": "export function getNotesActions(): NotesActions { getNotesActions", "description": "Returns the notes actions object for use outside of hooks.", "scope": "", "scopeKind": ""}, {"name": "async function apiDelete(path: string): Promise<void> { apiDelete", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function apiGet<T>(path: string): Promise<T> { apiGet", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function apiPost<T>(path: string, body: unknown): Promise<T> { apiPost", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function apiPut<T>(path: string, body: unknown): Promise<T> { apiPut", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["createContextId", "useContextProvider", "useStore", "useVisibleTask$", "apiGet", "apiPost", "apiPut", "apiDelete"], "search-terms": ["Qwik notes store context", "NotesActions", "useNotesProvider", "NotesContext", "async fetch helpers"], "state": 2, "file_id": 27, "knowledge_revision": 121, "git_revision": "", "revision_history": [{"86": ""}, {"92": ""}, {"93": ""}, {"98": ""}, {"111": ""}, {"112": ""}, {"113": ""}, {"114": ""}, {"121": ""}], "ctags": [{"_type": "tag", "name": "NotesActions", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export type NotesActions = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "NotesContext", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export const NotesContext = createContextId<NotesContextValue>(\"notes.context\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NotesContextValue", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export type NotesContextValue = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "NotesState", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export type NotesState = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "__notesActionsRef", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^let __notesActionsRef: NotesActions | null = null;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^const apiBase = import.meta.env.VITE_API_BASE || import.meta.env.VITE_BACKEND_URL || \"\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "apiDelete", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiDelete(path: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiGet<T>(path: string): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiPost<T>(path: string, body: unknown): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPut", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^async function apiPut<T>(path: string, body: unknown): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "backup", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const backup = { ...prev };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "backupList", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const backupList = state.notes.slice();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^        const err = new Error(\"Note not found\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "getNotesActions", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export function getNotesActions(): NotesActions {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const prev = state.notes.find((n) => n.id === input.id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, { headers: { \"Accept\": \"application\\/json\" } });$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, { method: \"DELETE\" });$/", "language": "TypeScript", "kind": "constant", "scope": "apiDelete", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "apiPost", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^  const res = await fetch(`${apiBase}${path}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "apiPut", "scopeKind": "function"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^        let saved: Note;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^      const updated: Note = { ...prev, title: input.title, content: input.content, updatedAt: no/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export function useNotes(): NotesContextValue {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useNotesProvider", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37321-37373/notes_frontend/src/lib/store.ts", "pattern": "/^export const useNotesProvider = () => {$/", "language": "TypeScript", "kind": "constant"}], "hash": "a9d56fdf31fc52e5048b6fc16c453c17", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/store.ts", "fields": [{"name": "let __notesActionsRef: NotesActions | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let saved: Note;", "scope": "", "scopeKind": "", "description": "unavailable"}]}